<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <title>Jaiyalas' Note - Pygments, a review</title>
    <!--
    <link rel="stylesheet" type="text/css" href="/css/default.css" />
    -->
    <link rel="stylesheet" type="text/css" href="http://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
    <link rel="stylesheet" type="text/css" href="http://yui.yahooapis.com/pure/0.6.0/pure-min.css" />
    <link rel="stylesheet" type="text/css" href="../../css/syntax.css" />
    <link rel="stylesheet" type="text/css" href="../../css/blog.css" />
    <link rel="stylesheet" type="text/css" href="../../css/side-menu.css" />
    <link rel="stylesheet" type="text/css" href="../../css/other.css" />
    
  </head>
  <body>

    <div id="layout">
      <!-- Menu toggle -->
      <a href="#menu" id="menuLink" class="menu-link">
	<!-- Hamburger icon -->
	<span></span>
      </a>
      <div id="menu">
        <div class="pure-menu">
          <a class="pure-menu-heading" href="#">Y.Y.-C.</a>
          <ul class="pure-menu-list">
	    <li class="pure-menu-item"><a href="../../index.html" class="pure-menu-link">Home</a></li>
            <li class="pure-menu-item"><a href="../../tags.html" class="pure-menu-link">Tags</a></li>
            <li class="pure-menu-item"><a href="../../archive.html" class="pure-menu-link">Archive</a></li>
            <li class="pure-menu-item"><a href="../../about.html" class="pure-menu-link">About</a></li>
          </ul>
        </div>
      </div> <!-- end menu -->
      <div id="main">
	<div class="content">
	  <div class="content">
  <!-- A wrapper for all the blog posts -->
  <div class="posts">
    <h1 class="content-subhead">Pinned Post</h1>
    <!-- A single blog post -->
    <section class="post">
      <header class="post-header">
	<h2 class="post-title">Pygments, a review</h2>
	<p class="post-meta">
	  
	  By <a href="#" class="post-author">Yun-Yan Chi</a>
	  
	  <small>Posted on 20 Apr 2011<a href="../../content/posts/2011-04-20-Pygments_review.html"><i class="fa fa-link fa-lg fa-fw"></i></a></small>	  
	  <!--
	      <a class="post-category post-category-design" href="#">CSS</a>
	      <a class="post-category post-category-pure" href="#">Pure</a>
	  -->
	</p>
      </header>
      <div class="post-description">
	<p><p>因為被抱怨說看以前我那篇 <a href="http://jaiyalascs.blogspot.com/search/label/Pygments">[reStructuredText] Pygments Intro. &amp; Install</a> 東西還是跑不出來，所以就重裝一下順便看看現在有啥搞頭。</p>
<p>總之，我現在沒有在用 macport，而 homebrew 中沒有 pygments 可以裝。所以稍微奮鬥了一下看能不能暴力裝進 <code>/usr/local/cell/pygments/1.4/</code> 裡面去。最後發現說，pygments 被當作 python 的一個 package，而硬是給我裝到 <code>/Library/Python/2.6/site-packages</code> 裡面去。好吧，既然 cabal 下面灌的 agda 我沒做 brew link，這個我看也算了。一方面是懶惰，另一方面是想說趕快看是為什麼不能用。</p>
<p>前言結束</p>
<hr />
<p>補充一點</p>
<p>首先，為了避免有人和我說沒有 twilight 可以用，先扯一下 style 的事情：</p>
<p>請在 <code>/Library/Python/2.6/site-packages/Pygments-1.4-py2.6.egg/pygments/styles/</code> 下面開一個檔案叫做 twilight.py。然後把<a href="http://blogger.godfat.org/2010/01/pygmentize.html">這篇</a>裡面最下面的那一塊 twilight.py 的內容複製並且貼進去自己的 twilight.py 檔案中。</p>
<hr />
<p>正文開始</p>
<p>基本上和以前沒差多少嘛，到底是哪哩不能用 T▽T</p>
<pre class="sourceCode bash"><code class="sourceCode bash"><span class="kw">&gt;</span> <span class="kw">pygmentize</span> -f html -o out.html -O full,style=twilight,linenos=1 p.hs</code></pre>
<p><code>-f html</code> ≡ 指定輸出格式為 html [1]</p>
<p><code>-o out.html</code> ≡ 指定輸出檔名</p>
<p><code>-O ≡ lexer</code> 和 formatter 額外的設定</p>
<p><code>full</code> ≡ 產生完整的 HTML 4 檔案</p>
<p><code>style=twilight</code> ≡ 指定 style [2]</p>
<p><code>linenos=1</code> ≡ 開啟line number</p>
<p><code>p.hs</code> ≡ 輸入的檔名</p>
<p>PS.</p>
<p>每個 formatter 可以用的參數不一樣</p>
<p>可以翻翻 formatter 的 source code</p>
<p>禮面會有寫，而且寫的蠻清楚的 [1]</p>
<p>不過上述的方法對於想要把 style 和 code 分開來的用的人來說，比較麻煩一點。因為變成要手動去把 html 中無關 code layout 的部份刪掉。因此就可以利用下面這種方式來輸出：</p>
<pre class="sourceCode bash"><code class="sourceCode bash"><span class="kw">&gt;</span> <span class="kw">pygmentize</span> -f html -o skeleton.html p.hs</code></pre>
<p>然後用 browser 打開 skeleton.html 以後會發現是黑白的。</p>
<p>而且用 editor 打開的話會發現他根本只有</p>
<p>換句話說這只是一個 html 的“片段”</p>
<p>所以我們可以用</p>
<pre class="sourceCode bash"><code class="sourceCode bash"><span class="kw">&gt;</span> <span class="kw">pygmentize</span> -f html -S twilight <span class="kw">&gt;</span> style.css</code></pre>
<p>來取得名為twilight的style的css檔</p>
<p>然後打開之前輸出的 skeleton.html</p>
<p>補上 html, head, body 和 css 的 link</p>
<p>這樣就可以看見顏色了</p>
<p>(不過看不到 background color)</p>
<hr />
<p>[1]</p>
<p>關於可以輸出的格式還有相對應的參數可以去 <code>/Library/Python/2.6/site-packages/Pygments-1.4-py2.6.egg/pygments/formatters</code> 看看有哪些東西</p>
<p>[2]</p>
<p>關於可以 style 可以去 <code>/Library/Python/2.6/site-packages/Pygments-1.4-py2.6.egg/pygments/styles</code> 看看有哪些東西</p></p>
	<p>[Tags: <a href="../../tags/Pygments.html">Pygments</a>]</p>
	<p><a href="http://creativecommons.org/licenses/by-nc-nd/4.0/"><img src="http://mirrors.creativecommons.org/presskit/buttons/88x31/svg/by-nc-nd.svg" /></a></p>
      </div>
    </section>
  </div> <!-- end posts -->
  <div id="disqus_thread"></div>
  <script type="text/javascript">
    /* * * CONFIGURATION VARIABLES * * */
    var disqus_shortname = 'jaiyalasio';
    
    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>





	  <div class="footer">
	    Powered by <a href="http://jaspervdj.be/hakyll">Hakyll</a>.
	  </div> <!-- end footer-->
	</div> <!-- end content -->
      </div> <!-- end main -->
    </div> <!-- end layout -->
    
    <script src="../../resources/ui.js"></script>
    
  </body>
</html>
