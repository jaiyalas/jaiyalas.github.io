<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <title>Jaiyalas' Note - From gnuplot to tikz via lua</title>
    <!--
    <link rel="stylesheet" type="text/css"
      href="http://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css" />
    <link rel="stylesheet" type="text/css" href="/css/default.css" />
    -->
    <link rel="stylesheet" type="text/css" href="http://netdna.bootstrapcdn.com/font-awesome/4.0.1/css/font-awesome.css" />
    <link rel="stylesheet" type="text/css" href="http://yui.yahooapis.com/pure/0.6.0/pure-min.css" />
    <link rel="stylesheet" type="text/css" href="../css/syntax.css" />
    <link rel="stylesheet" type="text/css" href="../css/blog.css" />
    <link rel="stylesheet" type="text/css" href="../css/side-menu.css" />
    
  </head>
  <body>

    <div id="layout">
      <!-- Menu toggle -->
      <a href="#menu" id="menuLink" class="menu-link">
	<!-- Hamburger icon -->
	<span></span>
      </a>
      <div id="menu">
        <div class="pure-menu">
          <a class="pure-menu-heading" href="#">Y.Y.-C.</a>
          <ul class="pure-menu-list">
	    <li class="pure-menu-item"><a href="../index.html" class="pure-menu-link">Home</a></li>
            <li class="pure-menu-item"><a href="../tags.html" class="pure-menu-link">Tags</a></li>
            <li class="pure-menu-item"><a href="../archive.html" class="pure-menu-link">Archive</a></li>
            <li class="pure-menu-item"><a href="../about.html" class="pure-menu-link">About</a></li>
          </ul>
        </div>
      </div> <!-- end menu -->
      <div id="main">
	<div class="content">
	  <div class="content">
  <!-- A wrapper for all the blog posts -->
  <div class="posts">
    <h1 class="content-subhead">Pinned Post</h1>
    <!-- A single blog post -->
    <section class="post">
      <header class="post-header">
	<h2 class="post-title">From gnuplot to tikz via lua</h2>
	<p class="post-meta">
	  
	  By <a href="#" class="post-author">Jaiyalas</a>
	  
	  under
	  <a class="post-category post-category-design" href="#">CSS</a>
	  <a class="post-category post-category-pure" href="#">Pure</a>
	</p>
	<p>
	  <small>Posted on April 16, 2012<a href="../posts/2012-04-16-Fromgnuplot2tikz.html"><i class="fa fa-link fa-lg fa-fw"></i></a></small>
	</p>
      </header>
      <div class="post-description">
	<p><p>先從 GNUPlot 開始。</p>
<h3 id="aquaterm">Aquaterm</h3>
<p>gnuplot 基本上直接裝的話是預設 x11 為 output terminal。如果不喜歡 x11(esp, on mac)，裝個 <a href="http://aquaterm.sourceforge.net/">aquaterm</a> 也是不錯的，不過就是記得要先裝 aquaterm 就是了。</p>
<p>aquaterm目前看到最新版是 1.1.0 (2011)，而前一版是 1.0.1 (2006)。照說直接裝 1.1.0 就好，可是 1.1.0 只有 .pkg 不能自己 build…囧rz。而明顯 1.0.1 實在太舊了…無奈之下就只好 1.1.0 的那個 .pkg 了。裝好以後看了一下，只有被多塞了兩個東西…</p>
<pre><code>~/Applications/AquaTerm.app
/Library/Frameworks/AquaTerm.framework/</code></pre>
<p>好吧，沒有到處亂塞就算了…</p>
<h3 id="gnuplot">GNUPlot</h3>
<p><a href="http://www.gnuplot.info/">gnuplot</a> 基本上用 homebrew 就好</p>
<pre class="sourceCode bash"><code class="sourceCode bash"><span class="kw">&gt;</span> <span class="kw">brew</span> install gnuplto </code></pre>
<p>輕鬆又愉悅!!</p>
<hr />
<p>順便提供幾個 gnuplot 裡面的指令：</p>
<p>列出所有可用的 terminal</p>
<pre class="sourceCode bash"><code class="sourceCode bash"><span class="kw">&gt;</span> <span class="kw">set</span> <span class="kw">term</span></code></pre>
<p>設定 terminal 成 aquaterm, latex(tikz), xwindow(x11)</p>
<pre class="sourceCode bash"><code class="sourceCode bash"><span class="kw">&gt;</span> <span class="kw">set</span> <span class="kw">term</span> aqua
<span class="kw">&gt;</span> <span class="kw">set</span> <span class="kw">term</span> tikz
<span class="kw">&gt;</span> <span class="kw">set</span> <span class="kw">term</span> x11</code></pre>
<p>設定輸出檔案</p>
<pre class="sourceCode bash"><code class="sourceCode bash"><span class="kw">&gt;</span> <span class="kw">set</span> <span class="kw">output</span> file</code></pre>
<p>更多 gnuplot 內容請參考 <a href="http://www.gnuplot.info/documentation.html">documentation</a>。這一篇的另一個主題就是 gnuplot 和 TikZ 的整合。承上篇，TikZ 強大過頭，所以這邊也描述一下 <strong>gnuplot → TikZ(tex) → pdf</strong> 的用法。</p>
<p><a href="http://www.texample.net/">這邊</a>有一個範例程式還有簡單的步驟講解</p>
<p>首先，如果只是要用貼圖的話，直接把 terminal 設定成某個圖檔格式就可以了</p>
<pre class="sourceCode bash"><code class="sourceCode bash"><span class="kw">&gt;</span> <span class="kw">set</span> <span class="kw">term</span> png</code></pre>
<p>不過這實在是不夠美觀，畢竟這就變成點陣圖了。所以還是直接輸出成 tikz 格式然後用 latex 去 compile 會比較一致又美觀。不過事實上，gnuplot 的 tikz terminal 目前並不是產生 pure tikz code。他是生產出一個介於 tikz 和 lua 之間的 middle-code，所以我們可以看見這些 code 不是用 <code>\begin{tikzpicture}</code> 開頭，而是</p>
<pre class="sourceCode latex"><code class="sourceCode latex">\begin{tikzpicture}[gnuplot]</code></pre>
<p>並且，latex 在 compile 這樣的 tex code 的時候需要 load 一個 package - <strong>gnuplot-lua-tikz</strong> 進來。不過在解決那個 latex package 之前要先有 lua 可以用。因為 <code>&gt; set term tikz</code> 實際上是還是用 lua terminal弄出來的。雖說 MacTeX 幾乎是包山包海包東包西包大腸包小腸，但是偏生沒有那個 package: gnuplot-lua-tikz，而這東西 TeXLive 還沒有吃進去所以要手動安裝。好佳在這個 package 在gnuplot 的 src 裡面就有包就在</p>
<pre><code>gnuplot-x.x.x/share/LaTeX/</code></pre>
<p>裡面。把這些東西丟到可以讓 texlive 可以吃到的路徑就好了。(細節可以參考 <a href="http://en.wikibooks.org/wiki/LaTeX/Packages/Installing_Extra_Packages">wikibook</a> 裡面的說明)</p>
<p>我自己是放在這裡</p>
<pre><code>~/Library/texlive/2011/texmf-var/tex/latex/gnuplot-lua-tikz/ </code></pre>
<p>另一個可行的方案當然就是直接去 hack</p>
<pre><code>/usr/local/texlive/2011
/usr/local/texlive/texmf-local </code></pre>
<p>這兩個地方。不過因為當初是 .pkg 裝的，所以這裡基本上是以 root 身分鎖上的。要再用 chmod 去塗塗改改就是了。</p></p>
	<p>[Tags: <a href="../tags/LaTeX.html">LaTeX</a>, <a href="../tags/gnuplot.html">gnuplot</a>, <a href="../tags/TikZ.html">TikZ</a>]</p>
      </div>
    </section>
  </div> <!-- end posts -->
  <div id="disqus_thread"></div>
  <script type="text/javascript">
    /* * * CONFIGURATION VARIABLES * * */
    var disqus_shortname = 'jaiyalasio';
    
    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>





	  <div class="footer">
	    Powered by <a href="http://jaspervdj.be/hakyll">Hakyll</a>
	  </div> <!-- end footer-->
	</div> <!-- end content -->
      </div> <!-- end main -->
    </div> <!-- end layout -->
    
    <script src="../resources/ui.js"></script>
    
  </body>
</html>
